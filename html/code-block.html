<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JquanUI 概述</title>
    <link rel="stylesheet" href="../css/JquanUI@3.0.css">
    <link rel="stylesheet" href="../css/app.css">
</head>
<body>
    <div class="container">
        <ul class="breadcrumb breadcrumb-filled breadcrumb-arrow breadcrumb-with-icons">
            <li><a href="/"><i class="bx bx-home"></i>ESM</a></li>
            <li class="active">代码块</li>
        </ul>
        <div class="container py-3">    
            <div class="card">
                <div class="card-header">
                    <cite class="mt-3 mb-3">代码块</cite>
                </div>
                <div class="card-body">
                    <div class="max-w-4xl mx-auto">
                        <h1 class="text-3xl font-bold mb-8 text-center text-gradient bg-gradient-aquafrost">JquanUI 代码高亮组件</h1>
                        <p class="mb-3 text-center text-gray-400">这是一个轻量、快捷、按需加载的代码高亮组件。</p>
                        <p class="mb-3 text-center text-gray-400">支持多种语言，基于highlightjs，所以支持highlightjs所有支持的100多种语言。</p>
                        <p class="mb-3 text-center text-gray-400">无需注册语言，通过data-language属性指定语言后自动动态加载依赖。</p>
                        <p class="mb-3 text-center text-gray-400">组件内部会自动处理标签符号无需手动转义。</p>
                        <p class="mb-3 text-center text-gray-400">组件内部会自动缩进4个单位。</p>
                        <p class="mb-3 text-center text-gray-400">组件大小为9KB，非常轻量。</p>

                        <!-- HTML 示例 -->
                        <section class="mb-8">
                            <h2 class="text-xl font-semibold mb-2">HTML</h2>
                            <pre class="border border-strong">
                                <code class="code-block" data-language="html" data-show-lines="true">
                                    <div class="card shadow-md">
                                        <img src="image.jpg" alt="示例图片" class="w-full h-auto rounded-t">
                                        <div class="p-4">
                                            <h3 class="text-lg font-bold">卡片标题</h3>
                                            <p class="text-gray-600">这是一段描述文字。</p>
                                        </div>
                                    </div>
                                </code>
                            </pre>
                        </section>

                        <!-- JavaScript 示例 -->
                        <section class="mb-8">
                            <h2 class="text-xl font-semibold mb-2">JavaScript</h2>
                            <pre class="border border-strong">
                                <code class="code-block" data-language="javascript" data-show-lines="true">
                                    const fetchUserData = async (userId) => {
                                        try {
                                            const response = await fetch(`https://api.example.com/users/${userId}`);
                                            if (!response.ok) {
                                            throw new Error(`HTTP error! status: ${response.status}`);
                                            }
                                            const userData = await response.json();
                                            return userData;
                                        } catch (error) {
                                            console.error("无法获取用户数据:", error);
                                        }
                                        };

                                        // 使用示例
                                        fetchUserData(123).then(user =&gt; {
                                        if (user) {
                                            console.log(user.name);
                                        }
                                    });
                                </code>
                            </pre>
                        </section>

                        <!-- CSS 示例 -->
                        <section class="mb-8">
                            <h2 class="text-xl font-semibold mb-2">CSS</h2>
                            <pre class="border border-strong"><code class="code-block" data-language="css" data-show-lines="true">
                                .button {
                                    display: inline-flex;
                                    align-items: center;
                                    justify-content: center;
                                    padding: 0.5rem 1rem;
                                    font-size: 1rem;
                                    font-weight: 500;
                                    color: #ffffff;
                                    background-color: #3b82f6;
                                    border: none;
                                    border-radius: 0.375rem;
                                    cursor: pointer;
                                    transition: background-color 150ms ease-in-out;
                                    }

                                    .button:hover {
                                    background-color: #2563eb;
                                    }

                                    .button:focus {
                                    outline: 2px solid #60a5fa;
                                    outline-offset: 2px;
                                    }
                                </code>
                            </pre>
                        </section>

                        <!-- Python 示例 -->
                        <section class="mb-8">
                            <h2 class="text-xl font-semibold mb-2">Python</h2>
                            <pre class="border border-strong">
                                <code class="code-block" data-language="python" data-show-lines="true">
                                    import requests
                                    from bs4 import BeautifulSoup

                                    def get_wikipedia_summary(title):
                                        """
                                        获取 Wikipedia 页面的摘要。
                                        """
                                        url = f"https://en.wikipedia.org/api/rest_v1/page/summary/{title}"
                                        try:
                                            response = requests.get(url, timeout=10)
                                            response.raise_for_status() # 如果状态码不是 200，则抛出异常
                                            data = response.json()
                                            return data.get('extract', '未找到摘要。')
                                        except requests.exceptions.RequestException as e:
                                            return f"请求失败: {e}"

                                    # 示例
                                    summary = get_wikipedia_summary("Python_(programming_language)")
                                    print(summary)
                                </code>
                            </pre>
                        </section>
                    </div>
                    <script type="module">
                        import { initCodeHighlighter } from '../js/modules/code-block.mjs';
                        import { init } from '../js/modules/jit-engine.mjs';
                        // 初始化 JIT 引擎
                        init({});
                        // 调用初始化函数
                        // 这里可以覆盖默认配置
                        initCodeHighlighter({
                            showLineNumbers: true, // 显示行号
                        });
                    </script>
                </div>
            </div>
        </div>
        <div class="container py-3">    
            <div class="card">
                <div class="card-header">
                    <cite class="mt-3 mb-3">全局配置参数</cite>
                </div>
                <div class="card-body">
                    <table>
                        <thead>
                            <tr>
                                <th>参数名</th>
                                <th>类型</th>
                                <th>默认值</th>
                                <th>解释</th>
                                <th>用法示例</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>selector</code></td>
                                <td><code>string</code></td>
                                <td><code>'pre code'</code></td>
                                <td>一个 CSS 选择器，用来指定页面中哪些代码块需要被处理。</td>
                                <td>
                                    <pre>
                                        <code data-language="javascript">
                                            initCodeHighlighter({
                                                selector: 'pre code'
                                            });
                                        </code>
                                    </pre>
                                </td>
                            </tr>
                            <tr>
                                <td><code>showLinesByDefault</code></td>
                                <td><code>boolean</code></td>
                                <td><code>true</code></td>
                                <td>是否默认为所有代码块显示行号。</td>
                                <td>
                                    <pre>
                                        <code data-language="javascript">
                                            initCodeHighlighter({
                                                showLineNumbers: true
                                            });
                                        </code>
                                    </pre>
                                </td>
                            </tr>
                            <tr>
                                <td><code>langLabel</code></td>
                                <td><code>boolean</code></td>
                                <td><code>true</code></td>
                                <td>是否显示语言标签。</td>
                                <td>
                                    <pre>
                                        <code data-language="javascript">
                                            initCodeHighlighter({
                                                langLabel: false
                                            });
                                        </code>
                                    </pre>
                                </td>
                            </tr>
                            <tr>
                                <td><code>data-language</code></td>
                                <td><code>string</code></td>
                                <td><code>'plaintext'</code></td>
                                <td>指定代码块的语言。这对于语法高亮至关重要。</td>
                                <td>
                                    <pre>
                                        <code data-language="html">
                                                <code data-language="html"></code>
                                        </code>
                                    </pre>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script src="../js/apps/app.js" type="module"></script>
</body>

</html>